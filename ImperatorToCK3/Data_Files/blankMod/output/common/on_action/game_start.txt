# ImperatorToCK3: Last updated CK3 patch 1.9.0.4

# Called from code after history generation
# Empty scope
on_game_start = {
	events = {
		fp1_scandinavian_adventurers.0004	# FP1 - Organise Norse adventurers.
		fp1_scandinavian_adventurers.0011	# FP1 - Corral famous Norse adventurers that haven't done much yet.
		fp1_scandinavian_adventurers.0021	# FP1 - Mark game-start prioritised adventurers.
		#Guaranteed historical artifacts fixed spawning
		debug_portraits.1 					# Debug portraits for animation testing
		easteregg_event.0001				# Charna and Jakub duel.
	}

	effect = {
		### HRE SETUP ###
		if = {
			limit = { exists = title:e_hre.holder }
			title:e_hre.holder = {
				every_vassal = {
					limit = {
						vassal_contract_has_modifiable_obligations = yes
						is_ai = yes
					}
					vassal_contract_decrease_obligation_level = feudal_government_taxes
					vassal_contract_decrease_obligation_level = feudal_government_levies
					set_vassal_contract_modification_blocked = no
				}
			}
		}

		### RELIGIOUS THINGS ###
		# Set up Holy Site Buildings to be buildable in Holy Sites
		religion:islam_religion = {
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_mosque_01
					}
				}
			}
		}
		religion:christianity_religion = {
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_cathedral_01
					}
				}
			}
		}
		every_religion_global = {
			limit = {
				OR = {
					this = religion:hinduism_religion
					this = religion:buddhism_religion
					this = religion:jainism_religion
					this = religion:tani_religion
					this = religion:bon_religion
				}
			}
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_indian_grand_temple_01
					}
				}
			}
		}		
		every_religion_global = {
			limit = {
				is_in_family = rf_pagan
			}
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_pagan_grand_temple_01
					}
				}
			}
		}
		every_religion_global = {
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_other_grand_temple_01
					}
				}
			}
		}

		# If your capital on game start is Mecca, you get the Hajjaj trait (since you can't Hajj to your capital)
		title:b_makka.county.holder = {
			if = {
				limit = {
					faith = { has_doctrine_parameter = mandatory_hajj }
					NOT = { has_trait = hajjaj }
				}
				# Have some Hajjaj
				add_trait = hajjaj
			}
		}

		# Pagans that start pre-reformed
		## Bon has already been reformed into new bon.
		faith:old_bon = { 
			set_variable = { name = has_been_reformed }
		}

		# Mark some faiths to block conversion till specific decisions are taken.
		faith:basque_pagan = {
			set_variable = { name = block_conversion_till_decision_taken }
		}
		faith:adoptionist = {
			set_variable = { name = block_conversion_till_nebulous_circumstances }
		}

		### COA ###
		if = {
			limit = {
				game_start_date <= 1000.1.1
			}
			title:e_scandinavia = { set_coa = e_scandinavia_norse }
			title:k_sweden = { set_coa = k_sweden_norse }
			title:d_svealand = { set_coa = d_svealand_norse }
			title:c_upland = { set_coa = c_upland_norse }
			title:c_gastrikland = { set_coa = c_gastrikland_norse }
			title:c_sodermannaland = { set_coa = c_sodermannaland_norse }
			title:c_aland = { set_coa = c_aland_norse }
			title:d_bergslagen = { set_coa = d_bergslagen_norse }
			title:c_vastmanland = { set_coa = c_vastmanland_norse  }
			title:c_varmland = { set_coa = c_varmland_norse }
			title:c_dalarna = { set_coa = c_dalarna_norse }
			title:c_dalabergslagen = { set_coa = c_dalabergslagen_norse }
			title:d_vastergotland = { set_coa = d_vastergotland_norse }
			title:c_vastergotland = { set_coa = c_vastergotland_norse }
			title:c_skara = { set_coa = c_skara_norse }
			title:c_dal = { set_coa = c_dal_norse }
			title:c_nordmark = { set_coa = c_nordmark_norse }
			title:d_ostergotland = { set_coa = d_ostergotland_norse }
			title:c_ostergotland = { set_coa = c_ostergotland_norse }
			title:c_kinda = { set_coa = c_kinda_norse }
			title:c_narke = { set_coa = c_narke_norse }
			title:d_smaland = { set_coa = d_smaland_norse }
			title:c_more = { set_coa = c_more_norse }
			title:c_sevede = { set_coa = c_sevede_norse }
			title:c_varend = { set_coa = c_varend_norse }
			title:c_njudung = { set_coa = c_njudung_norse }
			title:c_finnveden = { set_coa = c_finnveden_norse }
			title:c_oland = { set_coa = c_oland_norse }
			title:d_norrland = { set_coa = d_norrland_norse }
			title:c_halsingland = { set_coa = c_halsingland_norse }
			title:c_medelpad = { set_coa = c_medelpad_norse }
			title:c_angermanland = { set_coa = c_angermanland_norse }
			title:d_gotland = { set_coa = d_gotland_norse }
			title:c_gutland = { set_coa = c_gutland_norse }
			title:k_norway = { set_coa = k_norway_norse }
			title:d_viken = { set_coa = d_viken_norse }
			title:c_vingulmork = { set_coa = c_vingulmork_norse }
			title:c_raniriki = { set_coa = c_raniriki_norse }
			title:c_vestfold = { set_coa = c_vestfold_norse }
			title:c_telemark = { set_coa = c_telemark_norse }
			title:d_agder = { set_coa = d_agder_norse }
			title:c_nedenes = { set_coa = c_nedenes_norse }
			title:c_agdeside = { set_coa = c_agdeside_norse }
			title:d_vestlandi = { set_coa = d_vestlandi_norse }
			title:c_rogalandi = { set_coa = c_rogalandi_norse }
			title:c_hordalandi = { set_coa = c_hordalandi_norse }
			title:c_sogn = { set_coa = c_sogn_norse }
			title:d_trandalog = { set_coa = d_trandalog_norse }
			title:c_trandheim = { set_coa = c_trandheim_norse }
			title:c_norwegian_more = { set_coa = c_norwegian_more_norse }
			title:c_firdafylki = { set_coa = c_firdafylki_norse }
			title:d_dalir = { set_coa = d_dalir_norse }
			title:c_hedmork = { set_coa = c_hedmork_norse }
			title:c_gudbrandsdalir = { set_coa = c_gudbrandsdalir_norse }
			title:c_eystridalir = { set_coa = c_eystridalir_norse }
			title:c_gauldala = { set_coa = c_gauldala_norse }
			title:d_halogaland = { set_coa = d_halogaland_norse }
			title:c_vastvag = { set_coa = c_vastvag_norse }
			title:c_bothin = { set_coa = c_bothin_norse }
			title:c_namdalfylki = { set_coa = c_namdalfylki_norse }
			title:d_iceland = { set_coa = d_iceland_norse }
			title:c_vestisland = { set_coa = c_vestisland_norse }
			title:c_nordrland = { set_coa = c_nordrland_norse }
			title:c_austisland = { set_coa = c_austisland_norse }
			title:c_sudurland = { set_coa = c_sudurland_norse }
			title:d_northern_isles = { set_coa = d_northern_isles_norse }
			title:c_orkney = { set_coa = c_orkney_norse }
			title:c_faereyar = { set_coa = c_faereyar_norse }
			title:c_shetland = { set_coa = c_shetland_norse }
			title:d_jamtland = { set_coa = d_jamtland_norse }
			title:c_jamtfir = { set_coa = c_jamtfir_norse }
			title:c_morarna = { set_coa = c_morarna_norse }
			title:c_helgum = { set_coa = c_helgum_norse }
			title:c_harjadalen = { set_coa = c_harjadalen_norse }
			title:k_denmark = { set_coa = k_denmark_norse }
			title:d_sjaelland = { set_coa = d_sjaelland_norse }
			title:c_sjaelland = { set_coa = c_sjaelland_norse }
			title:c_fyn = { set_coa = c_fyn_norse }
			title:c_lolland_falster = { set_coa = c_lolland_falster_norse }
			title:d_skane = { set_coa = d_skane_norse }
			title:c_skane = { set_coa = c_skane_norse }
			title:c_halland = { set_coa = c_halland_norse }
			title:c_bornholm = { set_coa = c_bornholm_norse }
			title:c_blekinge = { set_coa = c_blekinge_norse }
			title:d_jylland = { set_coa = d_jylland_norse }
			title:c_aarhus = { set_coa = c_aarhus_norse }
			title:c_viborg = { set_coa = c_viborg_norse }
			title:c_ringkobing = { set_coa = c_ringkobing_norse }
			title:c_aalborg = { set_coa = c_aalborg_norse }
			title:d_slesvig = { set_coa = d_slesvig_norse }
			title:c_slesvig = { set_coa = c_slesvig_norse }
			title:c_vorbasse = { set_coa = c_vorbasse_norse }
			title:c_ribe = { set_coa = c_ribe_norse }
			title:d_york = { set_coa = d_york_norse }
			title:c_east_riding = { set_coa = c_east_riding_norse }
			title:d_western_isles = { set_coa = d_western_isles_norse }
			title:c_inner_hebrides = { set_coa = c_inner_hebrides_norse  }
			title:c_dublin = { set_coa = c_dublin_norse }
			title:c_argyll = { set_coa = c_argyll_norse }
		}
		
		### GRANDEUR ###
		#Royal Court: Set starting Grandeur to be the same as Expected
		if = {
			limit = {
				has_dlc_feature = royal_court
			}
			every_character_with_royal_court = {
				set_current_court_grandeur = court_grandeur_minimum_expected
				apply_hold_court_grace_effect = yes
				# Stops Hold Court reminders at game start
				set_variable = {
					name = last_hold_court_date
					value = current_year
				}
			}
		}

		### STRUGGLES ###
		# If we're in 867, Aragonese should be removed from the Struggle, since they don't quite exist yet.
		if = {
			limit = {
				current_date = 867.1.1
				exists = struggle:iberian_struggle
			}
			struggle:iberian_struggle = { set_culture_as_uninvolved = culture:aragonese }
		}

		### REGENCIES ###
		# Pre-defined historic regencies setup.
		## NOTE: we do these first to avoid feed messages getting weird due to regents being replaced immediately after getting their position.
		## 867.
		### None. Yet.
		## 1066.
		if = {
			limit = { game_start_date = 1066.9.15 }
			# Designate some regents.
			## King Philippe of France & Duke Boudewijn of Flanders (friend of his dad's)
			character:214 = {
				designate_diarch = character:364
				# Baldwin of Flanders also promised the prior king he'd take care of Philippe, so we add that starting loyalty hook.
				add_hook = {
					type = predecessor_loyalty_hook
					target = character:364
					years = historic_regent_loyal_after_death_hook_duration_years_value
				}
				reverse_add_opinion = {
					target = character:364
					modifier = promise_to_predecessor
					opinion = 50
				}
			}
			## Count Bouchard of Vendome & Guy de Bachaumont (his uncle)
			character:40905 = { designate_diarch = character:40376 }
			## Caliph al-Mustansir & Rasad (his mother)
			character:3096 = { designate_diarch = character:additional_fatimids_1 }
			## Count Ermengol of Urgell & Infanta Sancha of Aragon (his stepmother)
			character:110550 = { designate_diarch = character:110514 }
			## Duke Dirk of Holland & Count Robrecht of Zeeland (his stepfather)
			character:106520 = { designate_diarch = character:368 }
			## Duke Sven of Ostergotland & Kol Sverker (his father)
			character:100530 = { designate_diarch = character:100529 }
			## King Salamon of Hungary & Queen Mother Anastasia (his mother, in the absence of any better recorded options, and to keep other hostile relatives out of the job)
			character:476 = { designate_diarch = character:637 }
			## Prince Demetre of Georgia & Alda Oseti (his mother)
			character:9957 = { designate_diarch = character:9956 }
			# Plus remove all the generated opinions.
			## King Philippe of France & Duke Boudewijn of Flanders
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:364
				LIEGE = character:214
			}
			## Count Bouchard of Vendome & Guy de Bachaumont
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:40376
				LIEGE = character:40905
			}
			## Caliph al-Mustansir & Rasad
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:additional_fatimids_1
				LIEGE = character:3096
			}
			## Count Ermengol of Urgell & Infanta Sancha of Aragon
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:110514
				LIEGE = character:110550
			}
			## Duke Dirk of Holland & Count Robrecht of Zeeland
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:368
				LIEGE = character:106520
			}
			## Duke Sven of Ostergotland & Kol Sverker
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:100529
				LIEGE = character:100530
			}
			## King Salamon of Hungary & Queen Mother Anastasia
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:637
				LIEGE = character:476
			}
			## Prince Demetre of Georgia & Alda Oseti
			remove_generated_diarch_consequences_effect = {
				NEW_DIARCH = character:9956
				LIEGE = character:9957
			}
		}
		# Set up anyone who should be in a regency at start whether we have sources or not.
		## If you start as a child, incapable, or imprisoned, you get a regency.
		every_ruler = {
			limit = {
				OR = {
					is_adult = no
					is_incapable = yes
					is_imprisoned = yes
				}
			}
			# We don't want to check over so many characters *twice*, so we check again inside the block to determine what type of regency to put 'em in.
			## Temporary Regencies.
			if = {
				limit = { is_imprisoned = yes }
				trigger_event = {
					id = diarchy.0001
					delayed = yes
				}
			}
			## Entrenched Regencies.
			else = {
				trigger_event = {
					id = diarchy.0011
					delayed = yes
				}
			}
		}
		# Sort custom regencies.
		## Fatimid Caliphate - basically stuck in the back-end of an entrenched regencies from game start.
		if = {
			limit = { exists = character:3096 }
			character:3096 = { trigger_event = diarchy.0012 }
		}
		
		### FERTILE LANDS ###
		# For deserts that are supposed to be very fertile
		title:c_taizz = { add_county_modifier = fertile_desert_mountains_modifier }
		title:c_mandab = { add_county_modifier = fertile_desert_mountains_modifier }
		title:c_zabid = { add_county_modifier = fertile_desert_mountains_modifier }
		title:c_sanaa = { add_county_modifier = fertile_desert_mountains_modifier }
		title:c_dathina = { add_county_modifier = fertile_desert_mountains_modifier }
	}
}

# Like on_game_start, except it is called once the host (or player, in single player) exits the lobby. Good for anything where you need to know who the players are, or what the game rules are
on_game_start_after_lobby = {
	effect = {
		# Make sure that Realm Priests are landed theocrats where it makes sense
		every_ruler = {
			limit = {
				highest_held_title_tier >= tier_duchy
			}
			if = {
				limit = {
					exists = cp:councillor_court_chaplain
					cp:councillor_court_chaplain = {
						is_ruler = no
					}
					faith = { has_doctrine = doctrine_clerical_succession_spiritual_fixed_appointment }
					any_vassal = {
						is_physically_able_adult = yes
						is_councillor = no
						government_has_flag = government_is_theocracy
						can_be_court_chaplain_trigger = { COURT_OWNER = liege }
						faith = liege.faith
					}
				}
				random_vassal = {
					limit = {
						is_physically_able_adult = yes
						is_councillor = no
						government_has_flag = government_is_theocracy
						can_be_court_chaplain_trigger = { COURT_OWNER = liege }
						faith = liege.faith
					}
					weight = {
						base = 1
						modifier = {
							add = 1000
							faith.religious_head ?= this
						}
						modifier = {
							add = learning
						}
						modifier = {
							add = primary_title.tier
						}
					}
					liege = {
						assign_councillor_type = {
							type = councillor_court_chaplain
							remove_existing_councillor = yes
							target = prev
						}
					}
				}
			}
		}
	
		### GAME RULE: VIEW ON SAME-SEX RELATIONS
		if = {
			limit = { has_game_rule = accepted_same_sex_relations }
			game_rule_accepted_same_sex_relations_effect = yes
		}

		### GAME RULE: RANDOM RULER PLACEMENT
		if = {
			limit = { NOT = { has_game_rule = random_ruler_placement_off } }
			game_rule_random_ruler_placement_effect = yes
		}

		### GAME RULE: RANDOMIZE FAITH
		if = {
			limit = { has_game_rule = randomized_faiths_on }
			game_rule_randomize_faith_effect = yes
		}

		### GAME RULE: FAITH ACCEPTANCE
		if = {
			limit = { has_game_rule = full_faith_acceptance }
			game_rule_faith_acceptance_effect = yes
		}

		### GAME RULE: GENDER EQUALITY ###
		if = {
			limit = { has_game_rule = full_gender_equality }
			game_rule_full_gender_equality_effect = yes
		}
		else_if = {
			limit = { has_game_rule = inversed_gender_equality }
			game_rule_inversed_gender_equality_effect = yes
		}

		### GAME RULE: SEXUALITY DISTRIBUTION ###
		if = {
			limit = { NOT = { has_game_rule = sexuality_distribution_default } }
			game_rule_sexuality_distribution_effect = yes
		}
		else = { # So that children 10+ starts with a sexuality
			child_sexuality_distribution_effect = yes
		}

		# Give Ruler Designer characters regencies.
		every_in_global_list = {
			variable = rd_chars_needing_regencies
			trigger_event = diarchy.0011
			# Aaaand clean the list.
			save_temporary_scope_as = char_temp
			remove_list_global_variable = {
				name = rd_chars_needing_regencies
				target = scope:char_temp
			}
		}

		# IRToCK3: Parts about achievements removed

		### HOLD COURT STARTING GRACE
		every_character_with_royal_court = {
			set_variable = {
				name = hold_court_cooldown
	 			days = standard_hold_court_cooldown_time
	 		}
		}


		#Set starting cultural acceptance
		culture:vlach = {
			change_cultural_acceptance = {
				target = culture:serbian
				value = 40
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:croatian
				value = 40
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:bosnian
				value = 40
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:bulgarian
				value = 40
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:khazar = {
			change_cultural_acceptance = {
				target = culture:radhanite
				value = 25
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:mordvin
				value = 30
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:meshchera
				value = 30
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:muroma
				value = 30
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:russian
				value = 30
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:norse = {
			change_cultural_acceptance = {
				target = culture:sami
				value = 20
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:finnish
				value = 20
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:swedish = {
			change_cultural_acceptance = {
				target = culture:sami
				value = 20
				desc = cultural_acceptance_historical_relations
			}
			change_cultural_acceptance = {
				target = culture:finnish
				value = 20
				desc = cultural_acceptance_historical_relations
			}
		}
		culture:norwegian = {
			change_cultural_acceptance = {
				target = culture:sami
				value = 20
				desc = cultural_acceptance_historical_relations
			}
		}
		# In 867, the Slavic cultures are still very similar to each other, so we start them off at a very high tolerance.
		if = {
			limit = { current_date = 867.1.1 }
			# West Slavic.
			culture:pommeranian = {
				change_cultural_acceptance = {
					target = culture:czech
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:polish
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:polabian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:slovien
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:carantanian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:croatian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bosnian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:czech = {
				change_cultural_acceptance = {
					target = culture:polish
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:polabian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:slovien
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:carantanian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:croatian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bosnian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:polish = {
				change_cultural_acceptance = {
					target = culture:polabian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:slovien
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:carantanian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:croatian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bosnian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:polabian = {
				change_cultural_acceptance = {
					target = culture:slovien
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:carantanian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:croatian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bosnian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:slovien = {
				change_cultural_acceptance = {
					target = culture:carantanian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:croatian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bosnian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:carantanian = {
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:croatian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bosnian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			# South Slavic.
			culture:croatian = {
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bosnian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:bosnian = {
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:serbian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:serbian = {
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:bulgarian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:bulgarian = {
				change_cultural_acceptance = {
					target = culture:russian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			# East Slavic.
			culture:russian = {
				change_cultural_acceptance = {
					target = culture:ilmenian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:ilmenian = {
				change_cultural_acceptance = {
					target = culture:severian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			culture:severian = {
				change_cultural_acceptance = {
					target = culture:volhynian
					value = 50
					desc = cultural_acceptance_historical_relations
				}
			}
			## Volhynian doesn't get its own box, because we've already applied acceptance to it bilaterally everywhere else.
		}

		# IRToCK3: Show welcoming event
		every_player = { # Welcoming event
			trigger_event = {
				id = welcome.1
				days = 0
			}
		}

		# IRToCK3: add MAA regiments
		random_player = {
			trigger_event = {
				id = irtock3_hidden_events.0001
				days = 0
			}
		}

		# IRToCK3: Detect no culture in setup
		every_living_character = {
			limit = {
				has_culture = culture:aaa_noculture
			}
			every_player = {
				trigger_event = {
					id = welcome.2
					days = 0
				}
			}
		}
		every_county = {
			limit = {
				culture = culture:aaa_noculture
			}
			every_player = {
				trigger_event = {
					id = welcome.2
					days = 0
				}
			}
		}
	}

	events = {
		game_rule.1000	#Autopopulate families.
		game_rule.1011	#Hungarian Migration management.
		historical_artifacts.0023			# Historical Artifacts Generator
	}
}
